(()=>{"use strict";var e={208:()=>{},842:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(120),r=n(725),o=n(145),i=n(256),c=a(n(402)),u=a(n(533)),d=a(n(342)),l=n(984);class _{constructor(){this.currentPage=1}static setIdSelectedCar(e){this.idSelectedCar=e}eventDelegate(e){const t=e.target,n=document.querySelector(".form__buttons_create"),a=t.classList.contains("form__buttons_update"),g=t.classList.contains("settings__buttons_select"),f=(0,o.isControl)(t),m=(0,o.isNavigation)(t),p=(0,o.isInputs)(t);if(t.closest(".track")){const e=(0,s.getCarId)(t);_.setIdSelectedCar(e),(0,c.default)(t,e)}t===n&&(e.preventDefault(),(0,s.getCarProperties)(`${r.ButtonNames.create}`,_.idSelectedCar)),a&&(e.preventDefault(),(0,s.getCarProperties)(`${r.ButtonNames.update}`,_.idSelectedCar)),f&&(0,i.eventControlButton)(t),m&&(0,d.default)(t),t.closest(".pagination")&&u.default.eventPagination(t),t.closest(".score__buttons")&&(0,l.eventSort)(t),p||g||(0,o.unselectTrack)()}}_.idSelectedCar=0,t.default=_},145:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.resetRace=t.startRace=t.stopDrive=t.startDrive=t.isNavigation=t.isControl=t.isInputs=t.unselectTrack=t.selectTrack=t.updateOldCar=t.createNewCar=t.deleteCar=void 0;const s=a(n(173)),r=a(n(620)),o=n(725);function i(e,t){const n=document.querySelector(".input__name_update"),a=document.querySelector(".input__color_update"),s=document.querySelector(".form__buttons_update");n&&a&&s&&("enabled"===e&&(n.removeAttribute("disabled"),a.removeAttribute("disabled"),s.removeAttribute("disabled"),t&&(n.value=t.name,a.value=t.color)),"disabled"===e&&(n.setAttribute("disabled",""),a.setAttribute("disabled",""),s.setAttribute("disabled",""),n.value=o.Base.name,a.value=o.Base.color))}function c(){const e=document.querySelector(".selected");e&&e.classList.remove("selected"),i("disabled")}async function u(e){await r.default.eventEngine(e,o.EngineStatus.stopped)}t.deleteCar=function(e){s.default.deleteCar(e)},t.createNewCar=function(e,t){const n=new s.default(e,t);n.createCar(n)},t.updateOldCar=function(e,t,n){const a=new s.default(e,t);s.default.updateCar(a,n)},t.isInputs=function(e){const t=document.querySelector(".input__name_update"),n=document.querySelector(".input__color_update");return e===t||e===n},t.isControl=function(e){let t=!1;return document.querySelectorAll(".control__buttons").forEach((n=>{e===n&&(t=!0)})),t},t.isNavigation=function(e){let t=!1;return document.querySelectorAll(".nav__buttons").forEach((n=>{e===n&&(t=!0)})),t},t.unselectTrack=c,t.selectTrack=async function(e,t){c(),e.classList.add("selected"),i("enabled",await s.default.getCar(t))},t.startDrive=async function(e){await r.default.eventEngine(e,o.EngineStatus.started)},t.stopDrive=u,t.startRace=async function(e){!async function(e){await r.default.eventEngineRace(e,o.EngineStatus.started)}(e)},t.resetRace=async function(e){e.forEach((e=>{e.id&&u(e.id)}))}},120:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getTrack=t.getCarId=t.getCarProperties=void 0;const a=n(725),s=n(145);t.getCarId=function(e){let t=0;const n=e.closest(".track");if(n){const e=n.querySelector(".car");e&&(t=Number(e.getAttribute("id")))}return t},t.getTrack=function(e){return e.closest(".track")||null},t.getCarProperties=async function(e,t){let n="",r="";const o=document.querySelector(`.input__name_${e}`);o&&(n=o.value);const i=document.querySelector(`.input__color_${e}`);i&&(r=i.value),e===a.ButtonNames.create&&(0,s.createNewCar)(n,r),e===a.ButtonNames.update&&(0,s.updateOldCar)(n,r,t)}},24:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(540),r=n(725),o=a(n(129)),i=a(n(279)),c=n(585);t.default=class{static urlMaker(e,t,n,a,s){let o=`${r.Links.baseLink}${e}?_page=${t}&_limit=${n}`;return a&&(o+=`&_sort=${a}`),s&&(o+=`&_order=${s}`),o}static async getCars(e){const t=r.Methods.get;try{const n=await fetch(`${r.Links.baseLink}${r.Links.garage}?_page=${e}&_limit=${r.Links.limitCars}`,{method:t}),a=await n.json(),u=Number(n.headers.get("X-Total-Count"));(0,s.generateCars)(a),(0,i.default)(e,r.Links.garage),(0,o.default)(u,r.Links.garage),(0,c.changeDisableButton)(u,e,r.Links.garage)}catch(e){console.error(e)}}static async getWinners(e,t,n){const a=r.Methods.get;let u="";u=t&&n?this.urlMaker(r.Links.winners,e,r.Links.limitWinners,t,n):this.urlMaker(r.Links.winners,e,r.Links.limitWinners);try{const t=await fetch(u,{method:a}),n=await t.json(),d=Number(t.headers.get("X-Total-Count"));(0,s.generateWinners)(n,e),(0,i.default)(e,r.Links.winners),(0,o.default)(d,r.Links.winners),(0,c.changeDisableButton)(d,e,r.Links.winners)}catch(e){console.error(e)}}}},533:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(725),r=a(n(24));class o{static setCurrentPage(e,t){t===s.Pages.garage&&(this.currentGaragePage=e),t===s.Pages.winners&&(this.currenWinnersPage=e)}static getPagesNumber(){return{garage:this.currentGaragePage,winners:this.currenWinnersPage}}static getCurrentPage(e){let t=0;return e===s.Pages.garage&&(t=this.currentGaragePage),e===s.Pages.winners&&(t=this.currenWinnersPage),t}static async getTotalCount(e){let t=0;const n=e===s.Links.garage?s.Links.garage:s.Links.winners,a=e===s.Links.garage?s.Links.limitCars:s.Links.limitWinners,r=s.Methods.get;try{const e=await fetch(`${s.Links.baseLink}${n}?_limit=${a}`,{method:r});t=Number(e.headers.get("X-Total-Count"))}catch(e){console.error(e)}return t}static async getAmountPage(e){let t=0;const n=await this.getTotalCount(e);return e===s.Pages.garage&&(t=Math.ceil(n/s.Links.limitCars)),e===s.Pages.winners&&(t=Math.ceil(n/s.Links.limitWinners)),t}static disableButton(e,t){const n=document.querySelector(`.${t}__pagination`);if(n){const t=n.querySelector(`${e}`);t&&t.setAttribute("disabled","")}}static enableButton(e,t){const n=document.querySelector(`.${t}__pagination`);if(n){const t=n.querySelector(`${e}`);t&&t.removeAttribute("disabled")}}static isSorted(){return document.querySelector(".sorted")}static getSortOptions(){const e={sort:"",order:""};let t="",n="";const a=document.querySelector(".sorted");return a&&(t=a.classList.contains(`header__${s.Sorted.wins}`)?s.Sorted.wins:s.Sorted.time,n=a.classList.contains(`order_${s.Order.asc}`)?s.Order.asc:s.Order.desc),e.sort=t,e.order=n,e}static nextPage(e,t,n){const a=t+1;if(e>t){if(this.setCurrentPage(a,n),n===s.Pages.garage&&r.default.getCars(a),this.isSorted()){const e=this.getSortOptions();n===s.Pages.winners&&r.default.getWinners(a,e.sort,e.order)}else n===s.Pages.winners&&r.default.getWinners(a);e===a&&this.disableButton(".pagination__buttons_next",n),a>=2&&this.enableButton(".pagination__buttons_previous",n)}}static previousPage(e,t,n){const a=t-1;if(t>=2){if(this.setCurrentPage(a,n),n===s.Pages.garage&&r.default.getCars(a),this.isSorted()){const e=this.getSortOptions();n===s.Pages.winners&&r.default.getWinners(a,e.sort,e.order)}else n===s.Pages.winners&&r.default.getWinners(a);1===a&&this.disableButton(".pagination__buttons_previous",n),e>a&&this.enableButton(".pagination__buttons_next",n)}}static async eventPagination(e){let t=1,n="";e.closest(".garage")&&(t=this.currentGaragePage,n=s.Pages.garage),e.closest(".winners")&&(t=this.currenWinnersPage,n=s.Pages.winners);const a=e.classList.contains("pagination__buttons_previous"),r=e.classList.contains("pagination__buttons_next"),o=await this.getAmountPage(n);r&&this.nextPage(o,t,n),a&&this.previousPage(o,t,n)}}o.currentGaragePage=1,o.currenWinnersPage=1,t.default=o},256:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.eventControlButton=t.getCarsOnPage=void 0;const s=a(n(173)),r=n(725),o=n(585),i=n(145),c=a(n(533));async function u(e,t){const n=r.Methods.get;try{const a=await fetch(`${r.Links.baseLink}${r.Links.garage}?_page=${e}&_limit=${r.Links.limitCars}`,{method:n}),s=await a.json();t===r.ButtonNames.race&&(0,i.startRace)(s),t===r.ButtonNames.reset&&(0,i.resetRace)(s)}catch(e){console.error(e)}}t.getCarsOnPage=u,t.eventControlButton=function(e){const t=e.classList.contains("control__buttons_race"),n=e.classList.contains("control__buttons_reset"),a=e.classList.contains("control__buttons_generate-cars"),i=c.default.getCurrentPage("garage");t&&u(i,r.ButtonNames.race),n&&((0,o.toggleRaceButton)(r.ButtonNames.reset),u(i,r.ButtonNames.reset)),a&&s.default.generateRandomCars()}},984:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sortWinners=t.eventSort=void 0;const s=n(725),r=a(n(744)),o=a(n(24)),i=a(n(533));function c(e,t){const n=i.default.getCurrentPage(`${s.Pages.winners}`);o.default.getWinners(n,e,t),(0,r.default)(e,t)}t.sortWinners=c,t.eventSort=function(e){const t=e.classList.contains("header__wins"),n=e.classList.contains("header__time");!function(e){return e.classList.contains("sorted")}(e)||!function(e){return e.classList.contains(`order_${s.Order.asc}`)}(e)?(t&&c(s.Sorted.wins,s.Order.asc),n&&c(s.Sorted.time,s.Order.asc)):(t&&c(s.Sorted.wins,s.Order.desc),n&&c(s.Sorted.time,s.Order.desc))}},402:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=n(145),s=n(120);t.default=function(e,t){const n=e.classList.contains("settings__buttons_remove"),r=e.classList.contains("settings__buttons_select"),o=e.classList.contains("engine-control__buttons_start"),i=e.classList.contains("engine-control__buttons_stop");if(n&&((0,a.deleteCar)((0,s.getCarId)(e)),(0,s.getTrack)(e)?.remove()),r){const n=(0,s.getTrack)(e);n&&t&&(0,a.selectTrack)(n,t)}else(0,a.unselectTrack)();o&&(0,a.startDrive)((0,s.getCarId)(e)),i&&(0,a.stopDrive)((0,s.getCarId)(e))}},740:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(533)),r=a(n(153)),o=n(725),i=new r.default;window.addEventListener("load",(function(){if(localStorage.getItem("lastCurrentPagesNumber")){const e=localStorage.getItem("lastCurrentPagesNumber");if(e){const t=JSON.parse(e);s.default.setCurrentPage(t.garage,o.Pages.garage),s.default.setCurrentPage(t.winners,o.Pages.winners),i.start(t)}}else i.start()})),window.addEventListener("beforeunload",(function(){const e=s.default.getPagesNumber();localStorage.setItem("lastCurrentPagesNumber",JSON.stringify(e))}))},153:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(842)),r=a(n(24)),o=a(n(772));t.default=class{constructor(){this.controller=new s.default}start(e){(0,o.default)(),e?(r.default.getCars(e.garage),r.default.getWinners(e.winners)):(r.default.getCars(1),r.default.getWinners(1));const t=document.querySelector(".body");t&&t.addEventListener("click",(e=>this.controller.eventDelegate(e)))}}},173:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(24)),r=a(n(533)),o=n(725),i=a(n(140)),c=a(n(283)),u=a(n(329));class d{constructor(e,t){this.name=e,this.color=t}static updatePage(){const e=r.default.getCurrentPage(`${o.Pages.garage}`);s.default.getCars(e)}static async isEmptyPage(e){let t=!1;const n=o.Methods.get;try{const a=await fetch(`${o.Links.baseLink}${o.Links.garage}?_page=${e}&_limit=${o.Links.limitCars}`,{method:n});(await a.json()).length||(t=!0)}catch(e){console.error(e)}return t}async createCar(e){const t=o.Methods.post;try{await fetch(`${o.Links.baseLink}${o.Links.garage}`,{method:`${t}`,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),d.updatePage()}catch(e){console.error(e)}}static async createCars(e){const t=o.Methods.post;try{await Promise.all(e.map((e=>fetch(`${o.Links.baseLink}${o.Links.garage}`,{method:`${t}`,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})))),d.updatePage()}catch(e){console.error(e)}}static async deleteCar(e){const t=o.Methods.delete;try{await fetch(`${o.Links.baseLink}${o.Links.garage}/${e}`,{method:t});const n=r.default.getCurrentPage(`${o.Pages.garage}`);if(await this.isEmptyPage(n)){const e=document.querySelector(".pagination__buttons_previous");e&&r.default.eventPagination(e)}this.updatePage(),c.default.eventWin(e,o.ButtonNames.remove)}catch(e){console.error(e)}}static async getCar(e){let t={name:"",color:""};const n=o.Methods.get;try{const a=await fetch(`${o.Links.baseLink}${o.Links.garage}/${e}`,{method:n});t=await a.json()}catch(e){console.error(e)}return t}static async updateCar(e,t){const n=o.Methods.patch;try{await fetch(`${o.Links.baseLink}${o.Links.garage}/${t}`,{method:`${n}`,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),(0,i.default)(e,t),c.default.eventWin(t,o.ButtonNames.update)}catch(e){console.error(e)}}static randomNumber(e){return Math.floor(Math.random()*e)}static randomColor(){return`${Math.random().toString(16)}000000$`.substring(2,8).toUpperCase()}static generateNewCar(){const e=u.default.brands.length,t=`${u.default.brands[this.randomNumber(e)]} ${u.default.models[this.randomNumber(e)]}`,n=`#${this.randomColor()}`;return new d(t,n)}static generateRandomCars(){const e=[];for(let t=0;t<100;){const n=this.generateNewCar();e.push(n),t+=1}this.createCars(e)}}t.default=d},620:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(725),r=a(n(224)),o=a(n(581)),i=n(585),c=a(n(360)),u=a(n(283));class d{static changeCounter(){this.counter-=1,this.counter||(0,i.toggleRaceButton)(s.EngineStatus.finished)}static runPreStart(e,t){t===s.EngineStatus.started&&(0,i.toggleButton)(e,s.EngineStatus.preStart),t===s.EngineStatus.drive&&(0,i.toggleButton)(e,s.EngineStatus.started)}static async eventEngine(e,t,n,a){const l=s.Methods.patch;try{t===s.EngineStatus.stopped&&(clearInterval(this.timers[`${e}`]),(0,i.toggleButton)(e,s.EngineStatus.stopped),(0,o.default)(e),(0,c.default)(),this.winner={}),this.runPreStart(e,t);const d=await fetch(`${s.Links.baseLink}${s.Links.engine}?id=${e}&status=${t}`,{method:l}),_=await d.json();if(t===s.EngineStatus.started){const t=_.distance/_.velocity,n=(0,r.default)(e,t);(0,i.toggleButton)(e,s.EngineStatus.started),this.timers[`${e}`]=n,this.eventEngine(e,s.EngineStatus.drive,t)}if(t===s.EngineStatus.drive&&a&&n&&!this.winner.winnerId){this.winner.winnerId=e,this.winner.winnerTime=n;const t=Number((n/1e3).toFixed(2));u.default.eventWin(e,a,t),(0,c.default)(e,a,t)}}catch(t){clearInterval(d.timers[`${e}`])}finally{a&&this.changeCounter()}}static async eventEngineRace(e,t){(0,i.toggleRaceButton)(t);const n=s.Methods.patch;this.counter=e.length;try{if(t===s.EngineStatus.started){const a=await Promise.all(e.map((e=>fetch(`${s.Links.baseLink}${s.Links.engine}?id=${e.id}&status=${t}`,{method:n})))),o=await Promise.all(a.map((e=>e.json())));let c=0;e.forEach((e=>{const{id:t}=e;if(t){const e=o[c].distance/o[c].velocity,n=(0,r.default)(t,e);(0,i.toggleButton)(t,s.EngineStatus.started),this.timers[`${t}`]=n,this.eventEngine(t,s.EngineStatus.drive,e,s.ButtonNames.race)}c+=1}))}}catch(e){console.error(e)}}}d.timers={},d.winner={},d.counter=0,t.default=d},540:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.generateWinners=t.generateCars=void 0;const s=n(725),r=a(n(798)),o=a(n(123));t.generateCars=function(e){const t=document.querySelector(".playground");t&&(t.innerHTML=""),e.forEach((e=>{(0,r.default)(e)}))},t.generateWinners=function(e,t){let n=1;n=t>n?10*(t-1):0;const a=document.querySelector(".score__body");a&&(a.innerHTML=""),e.forEach((async e=>{const t=await async function(e){let t={name:"",color:""};const n=s.Methods.get;try{const a=await fetch(`${s.Links.baseLink}${s.Links.garage}/${e}`,{method:n});t=await a.json()}catch(e){console.error(e)}return t}(e.id);n+=1,(0,o.default)(t,e,n)}))}},283:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(24)),r=a(n(533)),o=n(725);class i{constructor(e,t,n){this.id=e,this.wins=t,this.time=n}static updatePage(){const e=r.default.getCurrentPage(`${o.Pages.winners}`);if(r.default.isSorted()){const t=r.default.getSortOptions();s.default.getWinners(e,t.sort,t.order)}else s.default.getWinners(e)}static async createWinner(e){const t=o.Methods.post;try{await fetch(`${o.Links.baseLink}${o.Links.winners}`,{method:`${t}`,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),this.updatePage()}catch(e){console.error(e)}}static async updateWinner(e,t){const n=o.Methods.patch;try{await fetch(`${o.Links.baseLink}${o.Links.winners}/${t}`,{method:`${n}`,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),this.updatePage()}catch(e){console.error(e)}}static async getWinner(e){let t={id:0,wins:0,time:0};const n=o.Methods.get;try{const a=await fetch(`${o.Links.baseLink}${o.Links.winners}/${e}`,{method:n});t=await a.json()}catch(e){console.error(e)}return t}static async getWinners(){let e=[];const t=o.Methods.get;try{const n=await fetch(`${o.Links.baseLink}${o.Links.winners}`,{method:t});e=await n.json()}catch(e){console.error(e)}return e}static async deleteWinner(e){const t=o.Methods.delete;try{await fetch(`${o.Links.baseLink}${o.Links.winners}/${e}`,{method:t}),this.updatePage()}catch(e){console.error(e)}}static async eventWin(e,t,n){let a=!1;if((await this.getWinners()).forEach((t=>{t.id===e&&(a=!0)})),a){if(t===o.ButtonNames.update&&this.updatePage(),t===o.ButtonNames.race){const t=await this.getWinner(e),a=t.wins+1;if(n)if(n<t.time){const t=new i(e,a,n);this.updateWinner(t,e)}else{const n=new i(e,a,t.time);this.updateWinner(n,e)}}t===o.ButtonNames.remove&&this.deleteWinner(e)}else if(n){const t=new i(e,1,n);this.createWinner(t)}}}t.default=i},725:(e,t)=>{var n,a,s,r,o,i,c,u;Object.defineProperty(t,"__esModule",{value:!0}),t.Base=t.Order=t.Sorted=t.Pages=t.EngineStatus=t.Methods=t.Links=t.ButtonNames=void 0,function(e){e.toGarage="to garage",e.toWinners="to winners",e.create="create",e.update="update",e.race="race",e.reset="reset",e.generate="generate cars",e.select="select",e.remove="remove",e.start="start",e.stop="stop",e.previous="previous",e.next="next"}(n||(t.ButtonNames=n={})),function(e){e.baseLink="http://127.0.0.1:3000/",e[e.limitCars=7]="limitCars",e[e.limitWinners=10]="limitWinners",e.garage="garage",e.winners="winners",e.engine="engine"}(a||(t.Links=a={})),function(e){e.get="GET",e.delete="DELETE",e.post="POST",e.patch="PATCH"}(s||(t.Methods=s={})),function(e){e.drive="drive",e.started="started",e.stopped="stopped",e.finished="finished",e.preStart="preStart"}(r||(t.EngineStatus=r={})),function(e){e.garage="garage",e.winners="winners"}(o||(t.Pages=o={})),function(e){e.id="id",e.wins="wins",e.time="time"}(i||(t.Sorted=i={})),function(e){e.asc="ASC",e.desc="DESC"}(c||(t.Order=c={})),function(e){e.name="",e.color="#FFFFFF"}(u||(t.Base=u={}))},336:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=t.split(" ").join("-"),a=document.createElement("button");return a.className=`buttons ${e}__buttons ${e}__buttons_${n}`,a.textContent=`${t.toUpperCase()}`,a}},213:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(725),r=a(n(336));t.default=function(e){const t=document.createElement("form");t.className=`form form_${e} setup__form`;const n=document.createElement("input");n.className=`form__input input__name_${e}`,n.setAttribute("type","text");const a=document.createElement("input");a.className=`form__input input__color_${e}`,a.setAttribute("type","color"),a.value=s.Base.color;const o=(0,r.default)("form",`${e}`);return e===s.ButtonNames.update&&(n.setAttribute("disabled",""),a.setAttribute("disabled",""),o.setAttribute("disabled","")),t.append(n),t.append(a),t.append(o),t}},908:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(943)),r=a(n(543));t.default=function(){const e=document.createElement("section");e.className="section garage";const t=document.createElement("div");t.className="garage__winner winner winner_hidden";const n=(0,r.default)(),a=document.createElement("h1");a.className="garage__title",a.textContent="Garage (amount cars)";const o=document.createElement("p");o.className="garage__page",o.textContent="Page # 1";const i=document.createElement("div");i.className="garage__playground playground";const c=(0,s.default)("garage");return e.append(t),e.append(n),e.append(a),e.append(o),e.append(i),e.append(c),e}},131:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(725),r=a(n(336));t.default=function(){const e=document.createElement("header");e.className="header";const t=document.createElement("nav");t.className="nav";const n=(0,r.default)("nav",`${s.ButtonNames.toGarage}`),a=(0,r.default)("nav",`${s.ButtonNames.toWinners}`);return t.append(n),t.append(a),e.append(t),e}},587:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(908)),r=a(n(891));t.default=function(){const e=document.createElement("main");e.className="main";const t=(0,s.default)(),n=(0,r.default)();return e.append(t),e.append(n),e}},943:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(725),r=a(n(336));t.default=function(e){const t=document.createElement("div");t.className=`${e}__pagination pagination`;const n=(0,r.default)("pagination",`${s.ButtonNames.previous}`),a=(0,r.default)("pagination",`${s.ButtonNames.next}`);return t.append(n),t.append(a),t}},494:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=document.createElement("div");e.className="winners__score score";const t=document.createElement("div");t.className="score__header score__table";const n=document.createElement("span");n.className="header__number",n.textContent="Number";const a=document.createElement("span");a.className="header__car-ico",a.textContent="Car";const s=document.createElement("span");s.className="header__car-brand",s.textContent="Brand and model";const r=document.createElement("button");r.className="header__wins score__buttons",r.innerHTML="Wins";const o=document.createElement("button");o.className="header__time score__buttons",o.innerHTML="Best time (sec)";const i=document.createElement("div");return i.className="score__body score__table",t.append(n),t.append(a),t.append(s),t.append(r),t.append(o),e.append(t),e.append(i),e}},543:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(725),r=a(n(336)),o=a(n(213));t.default=function(){const e=document.createElement("div");e.className="garage__setup setup";const t=(0,o.default)(s.ButtonNames.create),n=(0,o.default)(s.ButtonNames.update),a=document.createElement("div");a.className="setup__control control";const i=(0,r.default)("control",`${s.ButtonNames.race}`),c=(0,r.default)("control",`${s.ButtonNames.reset}`);c.setAttribute("disabled","");const u=(0,r.default)("control",`${s.ButtonNames.generate}`);return a.append(i),a.append(c),a.append(u),e.append(t),e.append(n),e.append(a),e}},772:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(131)),r=a(n(587));t.default=function(){const e=document.querySelector("body");e&&(e.className="body");const t=(0,s.default)(),n=(0,r.default)();return e&&(e.append(t),e.append(n)),e||null}},891:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(943)),r=a(n(494));t.default=function(){const e=document.createElement("section");e.className="section winners winners_hidden";const t=document.createElement("h2");t.className="winners__title",t.textContent="Winners (amount winners)";const n=document.createElement("p");n.className="winners__page",n.textContent="Page # 1";const a=(0,r.default)(),o=(0,s.default)("winners");return e.append(t),e.append(n),e.append(a),e.append(o),e}},129:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=n(725);t.default=function(e,t){if(t===a.Links.garage){const t=document.querySelector(".garage__title");t&&(t.textContent=`Garage (${e})`)}if(t===a.Links.winners){const t=document.querySelector(".winners__title");t&&(t.textContent=`Winners  (${e})`)}}},224:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=document.getElementById(`${e}`),a=t/100;if(n){const e=n.closest(".progress");if(e){let t=0;const s=setInterval((()=>{const a=e.clientWidth;t+=a/100,n.style.transform=`translateX(${t}px)`,t>a&&clearInterval(s)}),a);return s}}return!1}},279:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=n(725);t.default=function(e,t){if(t===a.Links.garage){const t=document.querySelector(".garage__page");t&&(t.textContent=`Page # ${e}`)}if(t===a.Links.winners){const t=document.querySelector(".winners__page");t&&(t.textContent=`Page # ${e}`)}}},581:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=document.getElementById(`${e}`);t&&(t.style.transform="translateX(0px)")}},342:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=document.querySelector(".winners"),n=document.querySelector(".garage"),a=e.classList.contains("nav__buttons_to-garage"),s=e.classList.contains("nav__buttons_to-winners");t&&n&&(a&&(n.classList.remove("garage_hidden"),t.classList.add("winners_hidden")),s&&(t.classList.remove("winners_hidden"),n.classList.add("garage_hidden")))}},744:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=n(725);t.default=function(e,t){const n=document.querySelector(".header__wins"),s=document.querySelector(".header__time");n&&s&&(n.className="header__wins score__buttons",s.className="header__time score__buttons",e===a.Sorted.wins?(n.classList.add(`order_${t}`),n.classList.add("sorted")):(s.classList.add(`order_${t}`),s.classList.add("sorted")))}},585:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.changeDisableButton=t.toggleRaceButton=t.toggleButton=void 0;const a=n(725);t.toggleButton=function(e,t){const n=document.getElementById(`${e}`);if(n){const e=n.closest(".track");if(e){const n=e.querySelector(".engine-control__buttons_start"),s=e.querySelector(".engine-control__buttons_stop");n&&s&&(t===a.EngineStatus.preStart&&(n.setAttribute("disabled",""),n.classList.add("buttons_red")),t===a.EngineStatus.started&&(n.classList.remove("buttons_red"),s.removeAttribute("disabled"),s.classList.add("buttons_green")),t===a.EngineStatus.stopped&&(n.removeAttribute("disabled"),s.setAttribute("disabled",""),s.classList.remove("buttons_green")))}}},t.toggleRaceButton=function(e){const t=document.querySelector(".control__buttons_race"),n=document.querySelector(".control__buttons_reset"),s=document.querySelectorAll(".settings__buttons_remove"),r=document.querySelectorAll(".engine-control__buttons_start");t&&n&&(e===a.EngineStatus.started&&(t.setAttribute("disabled",""),n.setAttribute("disabled",""),s&&s.forEach((e=>{e.setAttribute("disabled","")})),r&&r.forEach((e=>{e.setAttribute("disabled",""),e.classList.add("buttons_red")}))),e===a.EngineStatus.finished&&n.removeAttribute("disabled"),e===a.ButtonNames.reset&&(t.removeAttribute("disabled"),n.setAttribute("disabled",""),s&&s.forEach((e=>{e.removeAttribute("disabled")}))))},t.changeDisableButton=function(e,t,n){let s=1;const r=document.querySelector(`.${n}__pagination`);if(n===a.Pages.garage&&(s=Math.ceil(e/a.Links.limitCars)),n===a.Pages.winners&&(s=Math.ceil(e/a.Links.limitWinners)),e||(s=1),r){if(1===t){const e=r.querySelector(".pagination__buttons_previous");e&&e.setAttribute("disabled","")}if(t===s){const e=r.querySelector(".pagination__buttons_next");e&&e.setAttribute("disabled","")}if(t<s){const e=r.querySelector(".pagination__buttons_next");e&&e.removeAttribute("disabled")}}}},798:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(725),r=a(n(336));t.default=function(e){const t=document.querySelector(".playground"),n=document.createElement("div");n.className="track";const a=document.createElement("div");a.className="track__settings settings";const o=(0,r.default)("settings",`${s.ButtonNames.select}`),i=(0,r.default)("settings",`${s.ButtonNames.remove}`),c=document.createElement("span");c.className="track__car-name",c.textContent=`${e.name}`;const u=document.createElement("div");u.className="track__race race";const d=document.createElement("div");d.className="track__engine-control engine-control";const l=(0,r.default)(" engine-control",`${s.ButtonNames.start}`),_=(0,r.default)(" engine-control",`${s.ButtonNames.stop}`);_.setAttribute("disabled","");const g=document.createElement("div");g.className="track__progress progress";const f=document.createElement("div");return f.className="track__car car",f.setAttribute("id",`${e.id}`),f.style.background=e.color,a.append(o),a.append(i),a.append(c),d.append(l),d.append(_),g.append(f),u.append(d),u.append(g),n.append(a),n.append(u),t&&t.append(n),n}},140:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=document.getElementById(`${t}`);if(n){const t=n.closest(".track");if(t){const a=t.querySelector(".track__car-name");a&&(a.textContent=`${e.name}`,n.style.background=e.color)}}}},123:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){const a=document.querySelector(".score__body"),s=document.createElement("span");s.className="body__number",s.textContent=`${n}`;const r=document.createElement("div");r.className="track__car track__car_body",r.style.background=e.color;const o=document.createElement("span");o.className="body__car-brand",o.textContent=`${e.name}`;const i=document.createElement("span");i.className="body__wins",i.textContent=`${t.wins}`;const c=document.createElement("span");c.className="body__time",c.textContent=`${t.time}`,a&&(a.append(s),a.append(r),a.append(o),a.append(i),a.append(c))}},360:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=n(725);t.default=function(e,t,n){const s=document.querySelector(".garage__winner");if(e&&t&&n){const r=document.getElementById(`${e}`);if(r){const e=r.closest(".track");if(e){const r=e.querySelector(".track__car-name");if(r&&s&&t===a.ButtonNames.race){const e=r.textContent;s.textContent=`${e} went first [${n}s]!`,s.classList.remove("winner_hidden")}}}}else s&&s.classList.add("winner_hidden")}},329:e=>{e.exports=JSON.parse('{"brands":["Nissan","Renault","Skoda","Toyota","VW","Audi","Ford","BMW","Honda","Porsche"],"models":["X-TRAIL","Logan","Octavia","Corolla","Polo","A4","Mustang","525i","Civic","Cayenne"]}')}},t={};function n(a){var s=t[a];if(void 0!==s)return s.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,n),r.exports}n(740),n(208)})();