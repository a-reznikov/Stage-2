(()=>{"use strict";var e={208:()=>{},842:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=n(120),o=n(725),r=n(145);t.default=class{constructor(){this.idSelectedCar=0}eventDelegate(e){var t;const n=e.target,s=document.querySelector(".form__buttons_create"),c=n.classList.contains("settings__buttons_remove"),u=n.classList.contains("settings__buttons_select"),i=n.classList.contains("form__buttons_update"),d=n.classList.contains("engine-control__buttons_start"),l=(0,r.isInputs)(n);if(n===s&&(e.preventDefault(),(0,a.getCarProperties)(`${o.ButtonNames.create}`,this.idSelectedCar)),c&&((0,r.deleteCar)((0,a.getCarId)(n)),null===(t=(0,a.getTrack)(n))||void 0===t||t.remove()),u){const e=(0,a.getTrack)(n);e&&(0,r.selectTrack)(e),this.idSelectedCar=(0,a.getCarId)(n)}else l||(0,r.unselectTrack)();i&&(e.preventDefault(),(0,a.getCarProperties)(`${o.ButtonNames.update}`,this.idSelectedCar)),d&&(0,r.startDrive)((0,a.getCarId)(n))}}},145:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function s(e){try{u(a.next(e))}catch(e){r(e)}}function c(e){try{u(a.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}u((a=a.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.startDrive=t.isInputs=t.unselectTrack=t.selectTrack=t.updateOldCar=t.createNewCar=t.deleteCar=void 0;const r=o(n(173)),s=o(n(620)),c=n(725);function u(e){const t=document.querySelector(".input__name_update"),n=document.querySelector(".input__color_update"),a=document.querySelector(".form__buttons_update");t&&n&&a&&("enabled"===e&&(t.removeAttribute("disabled"),n.removeAttribute("disabled"),a.removeAttribute("disabled")),"disabled"===e&&(t.setAttribute("disabled",""),n.setAttribute("disabled",""),a.setAttribute("disabled","")))}function i(){const e=document.querySelector(".selected");e&&e.classList.remove("selected"),u("disabled")}t.deleteCar=function(e){r.default.deleteCar(e)},t.createNewCar=function(e,t){const n=new r.default(e,t);n.createCar(n)},t.updateOldCar=function(e,t,n){const a=new r.default(e,t);r.default.updateCar(a,n)},t.isInputs=function(e){const t=document.querySelector(".input__name_update"),n=document.querySelector(".input__color_update");return e===t||e===n},t.unselectTrack=i,t.selectTrack=function(e){i(),e.classList.add("selected"),u("enabled")},t.startDrive=function(e){return a(this,void 0,void 0,(function*(){yield s.default.eventEngine(e,c.EngineStatus.started)}))}},120:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function s(e){try{u(a.next(e))}catch(e){r(e)}}function c(e){try{u(a.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}u((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getTrack=t.getCarId=t.getCarProperties=void 0;const o=n(725),r=n(145);t.getCarId=function(e){let t=0;const n=e.closest(".track");if(n){const e=n.querySelector(".car");e&&(t=Number(e.getAttribute("id")))}return t},t.getTrack=function(e){return e.closest(".track")||null},t.getCarProperties=function(e,t){return a(this,void 0,void 0,(function*(){let n="",a="";const s=document.querySelector(`.input__name_${e}`);s&&(n=s.value);const c=document.querySelector(`.input__color_${e}`);c&&(a=c.value),e===o.ButtonNames.create&&(0,r.createNewCar)(n,a),e===o.ButtonNames.update&&(0,r.updateOldCar)(n,a,t)}))}},24:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function s(e){try{u(a.next(e))}catch(e){r(e)}}function c(e){try{u(a.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}u((a=a.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(n(540)),s=n(725);t.default=class{getCars(){return a(this,void 0,void 0,(function*(){const e=s.Methods.get;try{const t=yield fetch(`${s.Links.baseLink}${s.Links.garage}`,{method:e}),n=yield t.json();(0,r.default)(n)}catch(e){console.error(e)}}))}static getCar(e){return a(this,void 0,void 0,(function*(){const t=s.Methods.get;try{yield fetch(`${s.Links.baseLink}${s.Links.garage}/${e}`,{method:t})}catch(e){console.error(e)}}))}}},740:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),(new(a(n(153)).default)).start()},153:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(n(842)),r=a(n(24)),s=a(n(772));t.default=class{constructor(){this.controller=new o.default,this.loader=new r.default}start(){(0,s.default)(),this.loader.getCars();const e=document.querySelector(".body");e&&e.addEventListener("click",(e=>this.controller.eventDelegate(e)))}}},173:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function s(e){try{u(a.next(e))}catch(e){r(e)}}function c(e){try{u(a.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}u((a=a.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(725),s=o(n(798)),c=o(n(140));t.default=class{constructor(e,t){this.name=e,this.color=t}createCar(e){return a(this,void 0,void 0,(function*(){const t=r.Methods.post;try{const n=yield fetch(`${r.Links.baseLink}${r.Links.garage}`,{method:`${t}`,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=yield n.json();(0,s.default)(a)}catch(e){console.error(e)}}))}static deleteCar(e){return a(this,void 0,void 0,(function*(){const t=r.Methods.delete;try{yield fetch(`${r.Links.baseLink}${r.Links.garage}/${e}`,{method:t})}catch(e){console.error(e)}}))}static updateCar(e,t){return a(this,void 0,void 0,(function*(){const n=r.Methods.patch;try{yield fetch(`${r.Links.baseLink}${r.Links.garage}/${t}`,{method:`${n}`,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),(0,c.default)(e,t)}catch(e){console.error(e)}}))}}},620:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function s(e){try{u(a.next(e))}catch(e){r(e)}}function c(e){try{u(a.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}u((a=a.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(725),s=o(n(224));class c{static eventEngine(e,t,n){return a(this,void 0,void 0,(function*(){const a=r.Methods.patch;try{const n=yield fetch(`${r.Links.baseLink}${r.Links.engine}?id=${e}&status=${t}`,{method:a}),o=yield n.json();if(t===r.EngineStatus.started){const t=o.distance/o.velocity,n=(0,s.default)(e,t);c.eventEngine(e,r.EngineStatus.drive,n)}r.EngineStatus.drive}catch(t){n&&clearInterval(n),c.eventEngine(e,r.EngineStatus.stopped),console.error(t)}}))}}t.default=c},540:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(n(798));t.default=function(e){e.forEach((e=>{(0,o.default)(e)}))}},725:(e,t)=>{var n,a,o,r;Object.defineProperty(t,"__esModule",{value:!0}),t.EngineStatus=t.Methods=t.Links=t.ButtonNames=void 0,function(e){e.toGarage="to garage",e.toWinners="to winners",e.create="create",e.update="update",e.race="race",e.reset="reset",e.generate="generate cars",e.select="select",e.remove="remove",e.start="start",e.stop="stop",e.previous="previous",e.next="next"}(n||(t.ButtonNames=n={})),function(e){e.baseLink="http://127.0.0.1:3000/",e.garage="garage",e.engine="engine"}(a||(t.Links=a={})),function(e){e.get="GET",e.delete="DELETE",e.post="POST",e.patch="PATCH"}(o||(t.Methods=o={})),function(e){e.drive="drive",e.started="started",e.stopped="stopped"}(r||(t.EngineStatus=r={}))},336:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=t.split(" ").join("-"),a=document.createElement("button");return a.className=`buttons ${e}__buttons ${e}__buttons_${n}`,a.textContent=`${t.toUpperCase()}`,a}},213:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(725),r=a(n(336));t.default=function(e){const t=document.createElement("form");t.className=`form form_${e} setup__form`;const n=document.createElement("input");n.className=`form__input input__name_${e}`,n.setAttribute("type","text");const a=document.createElement("input");a.className=`form__input input__color_${e}`,a.setAttribute("type","color");const s=(0,r.default)("form",`${e}`);return e===o.ButtonNames.update&&(n.setAttribute("disabled",""),a.setAttribute("disabled",""),s.setAttribute("disabled","")),t.append(n),t.append(a),t.append(s),t}},908:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(n(943)),r=a(n(543));t.default=function(){const e=document.createElement("section");e.className="section garage";const t=(0,r.default)(),n=document.createElement("h1");n.className="garage__title",n.textContent="Garage (amount cars)";const a=document.createElement("p");a.className="garage__page",a.textContent="Page # 1";const s=document.createElement("div");s.className="garage__playground playground";const c=(0,o.default)("garage");return e.append(t),e.append(n),e.append(a),e.append(s),e.append(c),e}},131:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(725),r=a(n(336));t.default=function(){const e=document.createElement("header");e.className="header";const t=document.createElement("nav");t.className="nav";const n=(0,r.default)("nav",`${o.ButtonNames.toGarage}`),a=(0,r.default)("nav",`${o.ButtonNames.toWinners}`);return t.append(n),t.append(a),e.append(t),e}},587:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(n(908)),r=a(n(891));t.default=function(){const e=document.createElement("main");e.className="main";const t=(0,o.default)(),n=(0,r.default)();return e.append(t),e.append(n),e}},943:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(725),r=a(n(336));t.default=function(e){const t=document.createElement("div");t.className=`${e}__pagination pagination`;const n=(0,r.default)("pagination",`${o.ButtonNames.previous}`),a=(0,r.default)("pagination",`${o.ButtonNames.next}`);return t.append(n),t.append(a),t}},494:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=document.createElement("div");e.className="winners__score score";const t=document.createElement("div");t.className="score__header score__table";const n=document.createElement("span");n.className="header__number",n.textContent="Number";const a=document.createElement("span");a.className="header__car-ico",a.textContent="Car";const o=document.createElement("span");o.className="header__car-brand",o.textContent="Brand and model";const r=document.createElement("span");r.className="header__wins",r.textContent="Wins";const s=document.createElement("span");s.className="header__time",s.textContent="Best time (seconds)";const c=document.createElement("div");return c.className="score__body score__table",t.append(n),t.append(a),t.append(o),t.append(r),t.append(s),e.append(t),e.append(c),e}},543:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(725),r=a(n(336)),s=a(n(213));t.default=function(){const e=document.createElement("div");e.className="garage__setup setup";const t=(0,s.default)(o.ButtonNames.create),n=(0,s.default)(o.ButtonNames.update),a=document.createElement("div");a.className="setup__control control";const c=(0,r.default)("control",`${o.ButtonNames.race}`),u=(0,r.default)("control",`${o.ButtonNames.reset}`),i=(0,r.default)("control",`${o.ButtonNames.generate}`);return a.append(c),a.append(u),a.append(i),e.append(t),e.append(n),e.append(a),e}},772:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(n(131)),r=a(n(587));t.default=function(){const e=document.querySelector("body");e&&(e.className="body");const t=(0,o.default)(),n=(0,r.default)();return e&&(e.append(t),e.append(n)),e||null}},891:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(n(943)),r=a(n(494));t.default=function(){const e=document.createElement("section");e.className="section winners winners_hidden";const t=document.createElement("h2");t.className="winners__title",t.textContent="Winners (amount winners)";const n=document.createElement("p");n.className="winners__page",n.textContent="Page # 1";const a=(0,r.default)(),s=(0,o.default)("winners");return e.append(t),e.append(n),e.append(a),e.append(s),e}},224:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=document.getElementById(`${e}`),a=t/100;if(n){const e=n.closest(".progress");if(e){let t=0;const o=setInterval((()=>{const a=e.clientWidth;t+=a/100,n.style.transform=`translateX(${t}px)`,t>a&&clearInterval(o)}),a);return o}}return!1}},798:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(725),r=a(n(336));t.default=function(e){const t=document.querySelector(".playground"),n=document.createElement("div");n.className="track";const a=document.createElement("div");a.className="track__settings settings";const s=(0,r.default)("settings",`${o.ButtonNames.select}`),c=(0,r.default)("settings",`${o.ButtonNames.remove}`),u=document.createElement("span");u.className="track__car-name",u.textContent=`${e.name}`;const i=document.createElement("div");i.className="track__race race";const d=document.createElement("div");d.className="track__engine-control engine-control";const l=(0,r.default)(" engine-control",`${o.ButtonNames.start}`),f=(0,r.default)(" engine-control",`${o.ButtonNames.stop}`),p=document.createElement("div");p.className="track__progress progress";const _=document.createElement("div");return _.className="track__car car",_.setAttribute("id",`${e.id}`),_.style.background=e.color,a.append(s),a.append(c),a.append(u),d.append(l),d.append(f),p.append(_),i.append(d),i.append(p),n.append(a),n.append(i),t&&t.append(n),n}},140:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=document.getElementById(`${t}`);if(n){const t=n.closest(".track");if(t){const a=t.querySelector(".track__car-name");a&&(a.textContent=`${e.name}`,n.style.background=e.color)}}}}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,n),r.exports}n(740),n(208)})();